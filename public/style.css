:root {
  --wm-blue: #1e5eff;
  --wm-blue-dark: #123fb3;
  --wm-yellow: #fdb913;
  --ink: #0b1220;
  --bg: #f6f8fb;
  --card: #ffffff;
  --line: #e6e8ee;
  --shadow: 0 10px 30px rgba(0, 0, 0, .08);
  --radius: 16px;
  --font: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: var(--font);
  background: var(--bg);
  color: var(--ink);
}

.navbar {
  background: linear-gradient(90deg, #0f2a7a, var(--wm-blue));
  color: #fff;
  padding: 14px 18px;
  box-shadow: 0 6px 18px rgba(0, 0, 0, .15);
}

.brand-bar {
  display: flex;
  align-items: center;
  justify-content: center;
}

.brand {
  margin: 0;
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 800;
  letter-spacing: .2px;
}

.brand-main { font-size: 22px; }

.tagline {
  margin: 10px 0 0;
  display: flex;
  justify-content: center;
}

.tagline-upload {
  appearance: none;
  border: none;
  background: var(--wm-blue);
  color: #fff;
  font: inherit;
  font-weight: 700;
  padding: 10px 14px;
  border-radius: 999px;
  cursor: pointer;
  box-shadow: 0 8px 18px rgba(30, 94, 255, .25);
}

.container {
  max-width: 960px;
  margin: 18px auto 70px;
  padding: 0 14px;
}

.portal-row {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
  margin: 10px 0 16px;
}

.portal {
  position: relative; /* Fixes "stuck" clicks */
  z-index: 10;        /* Sits above halo animations */
  border: 1px solid var(--line);
  background: var(--card);
  padding: 10px 14px;
  border-radius: 999px;
  cursor: pointer;
  box-shadow: 0 6px 16px rgba(0, 0, 0, .05);
  font: inherit;
  font-weight: 600;
}

.portal:hover { transform: translateY(-1px); }

.stage {
  display: grid;
  place-items: center;
  padding: 18px 0 8px;
}

.halo-btn {
  position: relative;
  width: 180px;
  height: 180px;
  border-radius: 50%;
  border: none;
  background: radial-gradient(circle at 30% 30%, #3b82f6, #1e40af);
  cursor: pointer;
  box-shadow: 0 14px 35px rgba(30, 64, 175, .25);
  outline: none;
}

.halo-label {
  position: relative;
  z-index: 2;
  color: #fff;
  font-weight: 800;
}

.halo {
  position: absolute;
  inset: -10px;
  border-radius: 50%;
  border: 3px solid rgba(59, 130, 246, 0.55);
  opacity: 0;
}

.r2 { inset: -20px; border-width: 2px; border-color: rgba(147, 197, 253, 0.55); }
.r3 { inset: -32px; border-width: 2px; border-color: rgba(253, 185, 19, 0.35); }

.halo-btn:not(:disabled) .r1 { animation: pulse1 1.9s ease-in-out infinite; }
.halo-btn:not(:disabled) .r2 { animation: pulse2 2.6s ease-in-out infinite; }
.halo-btn:not(:disabled) .r3 { animation: pulse3 3.2s ease-in-out infinite; }

@keyframes pulse1 { 0% { opacity: .55; transform: scale(.9) } 70%, 100% { opacity: 0; transform: scale(1.32) } }
@keyframes pulse2 { 0% { opacity: .35; transform: scale(.85) } 70%, 100% { opacity: 0; transform: scale(1.55) } }
@keyframes pulse3 { 0% { opacity: .25; transform: scale(.85) } 70%, 100% { opacity: 0; transform: scale(1.72) } }

.stop-btn {
  margin-top: 12px;
  border: none;
  background: #111827;
  color: #fff;
  font: inherit;
  font-weight: 700;
  padding: 10px 14px;
  border-radius: 999px;
  cursor: pointer;
}

.quiet {
  margin-top: 18px;
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 14px;
}

.quiet-form { display: flex; gap: 8px; }
.quiet-input { flex: 1; padding: 12px; border: 1px solid var(--line); border-radius: 999px; font: inherit; }

.pill { border: none; border-radius: 999px; padding: 10px 12px; font: inherit; font-weight: 700; cursor: pointer; }
.send-btn { background: var(--wm-blue); color: #fff; }
.ghost { background: transparent; border: 1px solid var(--line); }

.thread { margin-top: 12px; max-height: 240px; overflow: auto; padding: 10px; border: 1px dashed var(--line); border-radius: 12px; background: #fbfcff; }
.msg { padding: 8px 10px; border-radius: 12px; margin: 6px 0; }
.msg.user { background: #eef2ff; }
.msg.bot { background: #ecfeff; }

.modal {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, .55);
  display: grid;
  place-items: center;
  padding: 18px;
  z-index: 1000; /* Ensure it stays on top */
}

.modal.hidden { display: none; }

.modal-content {
  width: min(520px, 92vw);
  background: var(--card);
  border-radius: 18px;
  padding: 16px;
}

.footer { text-align: center; padding: 18px; color: #4b5563; font-size: 13px; }
